{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst API_KEY = '42335875-35ce8b2853e0e3d6760ada5fc';\nconst BASE_URL = `https://pixabay.com/api/?key=${API_KEY}&image_type=photo&orientation=horizontal&safesearch=true`;\nconst form = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-gallery');\n\nlet lightbox = new SimpleLightbox('.gallery a');\n\nfunction showError(msg) {\n    iziToast.show({\n        message: msg,\n        messageColor: '#fff',\n        position: 'topRight',\n        backgroundColor: '#ef4040',\n        animateInside: false,\n        color: '#fff'\n    });\n\n    gallery.innerHTML = '';\n}\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n\n    const formData = new FormData(e.target);\n    const query = formData.get('search-input');\n\n    if (!query) {\n        showError(\"Sorry, there are no images matching your search query. Please try again!\");\n        return;\n    }\n\n    gallery.innerHTML = '<div class=\"loader\"></div>';\n\n\n    const url = `${BASE_URL}&q=${encodeURIComponent(query)}`;\n    \n    fetch(url).then(res => res.json()).then(data => {\n        if (!data || data.hits.length === 0) {\n            showError(\"Sorry, there are no images matching your search query. Please try again!\");\n            return;\n        }\n        const markup = data.hits.map(image => {\n            return `<a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\">\n                <div>\n                    <span>likes<br>${image.likes}</span>\n                    <span>views<br>${image.views}</span>\n                    <span>comments<br>${image.comments}</span>\n                    <span>downloads<br>${image.downloads}</span>\n                </div>\n            </a>`\n        }).join('');\n        gallery.innerHTML = markup;\n        lightbox.refresh();\n    }).catch((e) => {\n        showError(e.message);\n    })\n})\n\n\n"],"names":["API_KEY","BASE_URL","form","gallery","lightbox","SimpleLightbox","showError","msg","iziToast","e","query","url","res","data","markup","image"],"mappings":"6vBAOA,MAAMA,EAAU,qCACVC,EAAW,gCAAgCD,CAAO,2DAClDE,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAU,SAAS,cAAc,aAAa,EAEpD,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAE9C,SAASC,EAAUC,EAAK,CACpBC,EAAS,KAAK,CACV,QAASD,EACT,aAAc,OACd,SAAU,WACV,gBAAiB,UACjB,cAAe,GACf,MAAO,MACf,CAAK,EAEDJ,EAAQ,UAAY,EACxB,CAEAD,EAAK,iBAAiB,SAAUO,GAAK,CACjCA,EAAE,eAAc,EAGhB,MAAMC,EADW,IAAI,SAASD,EAAE,MAAM,EACf,IAAI,cAAc,EAEzC,GAAI,CAACC,EAAO,CACRJ,EAAU,0EAA0E,EACpF,MACH,CAEDH,EAAQ,UAAY,6BAGpB,MAAMQ,EAAM,GAAGV,CAAQ,MAAM,mBAAmBS,CAAK,CAAC,GAEtD,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAM,CAAA,EAAE,KAAKC,GAAQ,CAC5C,GAAI,CAACA,GAAQA,EAAK,KAAK,SAAW,EAAG,CACjCP,EAAU,0EAA0E,EACpF,MACH,CACD,MAAMQ,EAASD,EAAK,KAAK,IAAIE,GAClB,YAAYA,EAAM,aAAa;AAAA,4BACtBA,EAAM,YAAY;AAAA;AAAA,qCAETA,EAAM,KAAK;AAAA,qCACXA,EAAM,KAAK;AAAA,wCACRA,EAAM,QAAQ;AAAA,yCACbA,EAAM,SAAS;AAAA;AAAA,iBAG/C,EAAE,KAAK,EAAE,EACVZ,EAAQ,UAAYW,EACpBV,EAAS,QAAO,CACxB,CAAK,EAAE,MAAO,GAAM,CACZE,EAAU,EAAE,OAAO,CAC3B,CAAK,CACL,CAAC"}